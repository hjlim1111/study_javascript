<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>로그인</title>
    <link rel="stylesheet" href="style.css" type="text/css" />
  </head>
  <body>
    <h2>로그인</h2>
    <div class="loginForm">
      <form action="">
        <input type="text" name="" id="loginId" placeholder="아이디" />
        <input type="password" name="" id="loginPw" placeholder="비밀번호" />
        <button type="button" id="loginBtn">로그인</button>
      </form>
    </div>
    <script>
      // getItem
      const user = window.localStorage.getItem("name");
      const id = window.localStorage.getItem("id");
      const pw = window.localStorage.getItem("pw");

      console.log(user);
      console.log(id);
      console.log(pw);
      //로그인
      function login() {
        const loginId = document.getElementById("loginId").value;
        const loginPw = document.getElementById("loginPw").value;

        if (loginId === id && loginPw === pw) {
          alert(user + "님 로그인되었습니다");
          // 로그인 완료 페이지 이동
          location.href =
            "http://127.0.0.1:5500/test/2022.12/12.7/loginSuccess.html";
        } else {
          alert("아이디, 비밀번호를 확인하여 주세요.");
          id.focus();
        }
      }

      // loginBtn 버튼을 클릭하였을 때 로그인이 진행되는 로직
      loginBtn.addEventListener("click", function (event) {
        // 클릭이벤트
        login();
      });
      // enter을 눌러도 로그인이 진행되게 하는 로직
      loginPw.addEventListener("keyup", function (event) {
        if (event.keyCode === 13) {
          event.preventDefault(); // 키 입력값이 입력칸을 채우는 것을 방지 => 지금은 그렇게 필요한 로직은 아님
          login(); //document.getElementById("myBtn").click(); 와 동일
        }
      });
    </script>
  </body>
</html>
